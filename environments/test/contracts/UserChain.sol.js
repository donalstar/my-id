// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"attribsMap","outputs":[{"name":"","type":"string"}],"type":"function"},{"constant":false,"inputs":[{"name":"id","type":"uint256"}],"name":"getAttrib","outputs":[{"name":"res","type":"string"}],"type":"function"},{"constant":true,"inputs":[],"name":"owner_address","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":false,"inputs":[],"name":"destroy","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":true,"inputs":[],"name":"attributes","outputs":[{"name":"","type":"string"}],"type":"function"},{"constant":true,"inputs":[],"name":"first_name","outputs":[{"name":"","type":"string"}],"type":"function"},{"constant":false,"inputs":[{"name":"id","type":"uint256"},{"name":"location","type":"string"}],"name":"setAttrib","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"the_name","outputs":[{"name":"first","type":"string"},{"name":"last","type":"string"}],"type":"function"},{"constant":false,"inputs":[{"name":"location","type":"string"}],"name":"setAttributes","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"last_name","outputs":[{"name":"","type":"string"}],"type":"function"},{"inputs":[{"name":"fname","type":"string"},{"name":"lname","type":"string"},{"name":"new_owner","type":"address"},{"name":"bank","type":"address"}],"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"id","type":"uint256"},{"indexed":false,"name":"attribute","type":"string"}],"name":"SetAttribute","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"msg_sender","type":"address"},{"indexed":false,"name":"bank","type":"address"},{"indexed":false,"name":"contract_owner","type":"address"},{"indexed":false,"name":"id","type":"uint256"},{"indexed":false,"name":"attribute","type":"string"}],"name":"GetAttribute","type":"event"}],
    binary: "6060604052604051610cb8380380610cb883398101604052805160805160a05160c05192840193919091019160018054600160a060020a03191633178155600480548651600083905291926020601f60026000199385161561010002939093019093169190910482018190047f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b908101939290918901908390106100ee57805160ff19168380011785555b5061011e9291505b8082111561017757600081556001016100b2565b505060038054600160a060020a031916841790555050505050506108af806104096000396000f35b828001600101855582156100aa579182015b828111156100aa578251826000505591602001919060010190610100565b50508260056000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061017b57805160ff19168380011785555b506101ab9291506100b2565b5090565b8280016001018555821561016b579182015b8281111561016b57825182600050559160200191906001019061018d565b505060028054600160a060020a03191683178155604080516004805460206001821615610100026000190190911694909404601f81018590049094028201606090810184529282018481529193849384018282801561024b5780601f106102205761010080835404028352916020019161024b565b820191906000526020600020905b81548152906001019060200180831161022e57829003601f168201915b50505091835250506005805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529382019392918301828280156102dd5780601f106102b2576101008083540402835291602001916102dd565b820191906000526020600020905b8154815290600101906020018083116102c057829003601f168201915b505050505081526020015060066000506000820151816000016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061034a57805160ff19168380011785555b5061037a9291506100b2565b8280016001018555821561033e579182015b8281111561033e57825182600050559160200191906001019061035c565b50506020820151816001016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106103d957805160ff19168380011785555b506100c69291506100b2565b828001600101855582156103cd579182015b828111156103cd5782518260005055916020019190600101906103eb566060604052361561008d5760e060020a60003504633290a27d81146100955780634389b4f01461010357806380edef8e146101d057806383197ef0146101e25780638da5cb5b1461020a57806393e1ea411461021c578063cc7318f11461027a578063ccae3a65146102d8578063d044a1aa14610433578063e310bb361461043d578063eecc285a146104d9575b610539610002565b61053d6004356008602090815260009182526040918290208054835160026001831615610100026000190190921691909104601f81018490048402820184019094528381529290918301828280156106f65780601f106106cb576101008083540402835291602001916106f6565b61053d600435604080516020818101835260008083528481526008825283518482206003546002805433600160a060020a03818116875293841697860188905292169784018890526060840189905260a06080850181815284546001811615610100026000190116929092049085018190529697929694957f39d7859d0e0c680afa40f333ed1a0152879e90ee313b02f4c86e4c4f501905c59592949093928a9289929160c0830190849080156107295780601f106106fe57610100808354040283529160200191610729565b6105ab600254600160a060020a031681565b61053960015433600160a060020a039081169116141561053b57600154600160a060020a0316ff5b6105ab600154600160a060020a031681565b6040805160098054602060026001831615610100026000190190921691909104601f810182900482028401820190945283835261053d93908301828280156106f65780601f106106cb576101008083540402835291602001916106f6565b61053d6004805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156106f65780601f106106cb576101008083540402835291602001916106f6565b60408051602060248035600481810135601f810185900485028601850190965285855261053995813595919460449492939092019181908401838280828437509496505050505050507f81ce4965ff50bc8d6e9f232306baea6e54dc3a5f1df5b87d0cbeae273e3187c5828260405180838152602001806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156103aa5780820380516001836020036101000a031916815260200191505b50935050505060405180910390a180600860005060008481526020019081526020016000206000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061084057805160ff19168380011785555b506108709291505b80821115610876576000815560010161041f565b6105c76006600782565b6040805160206004803580820135601f81018490048402850184019095528484526105399491936024939092918401919081908401838280828437509496505050505050508060096000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061087a57805160ff19168380011785555b506108aa92915061041f565b61053d60058054604080516020601f600260001961010060018816150201909516949094049384018190048102820181019092528281529291908301828280156106f65780601f106106cb576101008083540402835291602001916106f6565b005b565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f16801561059d5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b60408051600160a060020a039092168252519081900360200190f35b6040805181815283546002600182161561010002600019019091160491810182905290819060208201906060830190869080156106455780601f1061061a57610100808354040283529160200191610645565b820191906000526020600020905b81548152906001019060200180831161062857829003601f168201915b5050838103825284546002600182161561010002600019019091160480825260209190910190859080156106ba5780601f1061068f576101008083540402835291602001916106ba565b820191906000526020600020905b81548152906001019060200180831161069d57829003601f168201915b505094505050505060405180910390f35b820191906000526020600020905b8154815290600101906020018083116106d957829003601f168201915b505050505081565b820191906000526020600020905b81548152906001019060200180831161070c57829003601f168201915b5050965050505050505060405180910390a150604080516003546002547fa9059cbb000000000000000000000000000000000000000000000000000000008352600160a060020a039081166004840152600a60248401529251921691829163a9059cbb916044828101926000929190829003018183876161da5a03f115610002575050825460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152925084918301828280156108325780601f1061080757610100808354040283529160200191610832565b820191906000526020600020905b81548152906001019060200180831161081557829003601f168201915b505050505092505050919050565b82800160010185558215610417579182015b82811115610417578251826000505591602001919060010190610852565b50505050565b5090565b828001600101855582156104cd579182015b828111156104cd57825182600050559160200191906001019061088c565b50505056",
    unlinked_binary: "6060604052604051610cb8380380610cb883398101604052805160805160a05160c05192840193919091019160018054600160a060020a03191633178155600480548651600083905291926020601f60026000199385161561010002939093019093169190910482018190047f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b908101939290918901908390106100ee57805160ff19168380011785555b5061011e9291505b8082111561017757600081556001016100b2565b505060038054600160a060020a031916841790555050505050506108af806104096000396000f35b828001600101855582156100aa579182015b828111156100aa578251826000505591602001919060010190610100565b50508260056000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061017b57805160ff19168380011785555b506101ab9291506100b2565b5090565b8280016001018555821561016b579182015b8281111561016b57825182600050559160200191906001019061018d565b505060028054600160a060020a03191683178155604080516004805460206001821615610100026000190190911694909404601f81018590049094028201606090810184529282018481529193849384018282801561024b5780601f106102205761010080835404028352916020019161024b565b820191906000526020600020905b81548152906001019060200180831161022e57829003601f168201915b50505091835250506005805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529382019392918301828280156102dd5780601f106102b2576101008083540402835291602001916102dd565b820191906000526020600020905b8154815290600101906020018083116102c057829003601f168201915b505050505081526020015060066000506000820151816000016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061034a57805160ff19168380011785555b5061037a9291506100b2565b8280016001018555821561033e579182015b8281111561033e57825182600050559160200191906001019061035c565b50506020820151816001016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106103d957805160ff19168380011785555b506100c69291506100b2565b828001600101855582156103cd579182015b828111156103cd5782518260005055916020019190600101906103eb566060604052361561008d5760e060020a60003504633290a27d81146100955780634389b4f01461010357806380edef8e146101d057806383197ef0146101e25780638da5cb5b1461020a57806393e1ea411461021c578063cc7318f11461027a578063ccae3a65146102d8578063d044a1aa14610433578063e310bb361461043d578063eecc285a146104d9575b610539610002565b61053d6004356008602090815260009182526040918290208054835160026001831615610100026000190190921691909104601f81018490048402820184019094528381529290918301828280156106f65780601f106106cb576101008083540402835291602001916106f6565b61053d600435604080516020818101835260008083528481526008825283518482206003546002805433600160a060020a03818116875293841697860188905292169784018890526060840189905260a06080850181815284546001811615610100026000190116929092049085018190529697929694957f39d7859d0e0c680afa40f333ed1a0152879e90ee313b02f4c86e4c4f501905c59592949093928a9289929160c0830190849080156107295780601f106106fe57610100808354040283529160200191610729565b6105ab600254600160a060020a031681565b61053960015433600160a060020a039081169116141561053b57600154600160a060020a0316ff5b6105ab600154600160a060020a031681565b6040805160098054602060026001831615610100026000190190921691909104601f810182900482028401820190945283835261053d93908301828280156106f65780601f106106cb576101008083540402835291602001916106f6565b61053d6004805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156106f65780601f106106cb576101008083540402835291602001916106f6565b60408051602060248035600481810135601f810185900485028601850190965285855261053995813595919460449492939092019181908401838280828437509496505050505050507f81ce4965ff50bc8d6e9f232306baea6e54dc3a5f1df5b87d0cbeae273e3187c5828260405180838152602001806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156103aa5780820380516001836020036101000a031916815260200191505b50935050505060405180910390a180600860005060008481526020019081526020016000206000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061084057805160ff19168380011785555b506108709291505b80821115610876576000815560010161041f565b6105c76006600782565b6040805160206004803580820135601f81018490048402850184019095528484526105399491936024939092918401919081908401838280828437509496505050505050508060096000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061087a57805160ff19168380011785555b506108aa92915061041f565b61053d60058054604080516020601f600260001961010060018816150201909516949094049384018190048102820181019092528281529291908301828280156106f65780601f106106cb576101008083540402835291602001916106f6565b005b565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f16801561059d5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b60408051600160a060020a039092168252519081900360200190f35b6040805181815283546002600182161561010002600019019091160491810182905290819060208201906060830190869080156106455780601f1061061a57610100808354040283529160200191610645565b820191906000526020600020905b81548152906001019060200180831161062857829003601f168201915b5050838103825284546002600182161561010002600019019091160480825260209190910190859080156106ba5780601f1061068f576101008083540402835291602001916106ba565b820191906000526020600020905b81548152906001019060200180831161069d57829003601f168201915b505094505050505060405180910390f35b820191906000526020600020905b8154815290600101906020018083116106d957829003601f168201915b505050505081565b820191906000526020600020905b81548152906001019060200180831161070c57829003601f168201915b5050965050505050505060405180910390a150604080516003546002547fa9059cbb000000000000000000000000000000000000000000000000000000008352600160a060020a039081166004840152600a60248401529251921691829163a9059cbb916044828101926000929190829003018183876161da5a03f115610002575050825460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152925084918301828280156108325780601f1061080757610100808354040283529160200191610832565b820191906000526020600020905b81548152906001019060200180831161081557829003601f168201915b505050505092505050919050565b82800160010185558215610417579182015b82811115610417578251826000505591602001919060010190610852565b50505050565b5090565b828001600101855582156104cd579182015b828111156104cd57825182600050559160200191906001019061088c565b50505056",
    address: "0xef548b141b7e081fd949e5eecd6abc6444ce7f73",
    generated_with: "2.0.9",
    contract_name: "UserChain"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("UserChain error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("UserChain error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("UserChain error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("UserChain error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.UserChain = Contract;
  }

})();
