<!DOCTYPE html>
<html ng-app="appname">

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="initial-scale=1.0">

    <link href="public/Content/style.css" type="text/css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="public/Content/snap.css"/>
    <link rel="stylesheet" type="text/css" href="public/Content/demo.css"/>

    <link rel="stylesheet" type="text/css" href="public/Content/style.css"/>

    <link href="public/bootstrap.min.css" rel="stylesheet">

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <script data-require="angular.js@1.2.x" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.4/angular.min.js"
            data-semver="1.2.4"></script>

    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <script src="js/snap.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/angular-resource.js"></script>
    <script src="js/angular-snap.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/app.js"></script>
    <script src="js/services.js"></script>
    <script src="js/admin_controller.js"></script>
</head>


<body>

<div class="mainContainer" ng-controller="admin_controller">
    <div class="container">
        <snap-drawers>
            <div snap-drawer="left">

                <div>
                    <h4><img class="btnContainer" src='public/Content/images/plus.png'/>Menu</h4>
                </div>
            </div>

        </snap-drawers>
    </div>

    <div snap-content data-snap-ignore="true" style="width: 100%;">

        <!-- Static navbar -->
        <nav class="navbar navbar-default navbar-static-top" style="opacity: 0.6;width: 80%;">
            <div class="container">
                <div class="navbar-header">
                    <div class="navbar-brand" href="">my-id [ADMIN]</div>
                </div>
                <div ng-show="loggedIn">
                    <div id="navbar" class="navbar-collapse collapse">
                        <ul class="nav navbar-nav navbar-right">
                            <li><a href="">User: {{fullName}}</a></li>

                            <li><a href="">Balance: {{accountBalance}}&#402;</a></li>

                            <li><a href="">Tokens: {{accountTokens}} &#8366;</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>


        <div style="padding-left: 40px;">
            <div ng-hide="loggedIn" class="row centered-form">
                <div>
                    <div ng-show="showLogin" class="panel panel-default" style="width:500px">
                        <div class="panel-heading">
                            <h4 class="panel-title">Customer Login</h4>
                        </div>

                        <div class="panel-body">
                            <div class="form-group">

                                <form name="form" ng-submit="logIn()">

                                    <div class="row extra-bottom-padding">
                                        <label class="col-md-3 control-label">Username:</label>

                                        <div class="col-md-6">
                                            <input type="text" class="form-control input-large"
                                                   ng-model="customerData.username" placeholder="Username"
                                                   required/>
                                        </div>
                                    </div>


                                    <div class="row extra-bottom-padding">
                                        <label class="col-sm-3 control-label">Password:</label>

                                        <div class="col-sm-6">
                                            <input type="password" name="name" class="form-control input-sm"
                                                   ng-model="customerData.password" placeholder="Password"
                                                   required/>
                                        </div>
                                    </div>

                                    <div class="row" ng-show="loginFailed">
                                        <div ng-message="required">{{loginErrorMessage}}</div>
                                    </div>

                                    <div class="well" style="margin: 0 auto 5px; text-align:right">
                                        <button type="button" ng-click="doSignUp(true)" class="btn btn-primary"
                                                style="width:100px">Sign Up
                                        </button>

                                        <button type="submit" class="btn btn-primary"
                                                style="width:100px">Sign In
                                        </button>
                                    </div>
                                </form>
                            </div>

                        </div>
                    </div>


                    <div ng-show="showSignUp" class="panel panel-default" style="width:500px">
                        <div class="panel-heading">
                            <h4 class="panel-title">Create a New Customer Account</h4>
                        </div>

                        <div class="panel-body">

                            <div class="form-group">
                                <form name="form" ng-submit="createAccount()">
                                    <div class="row extra-bottom-padding">
                                        <div class="col-md-6 mb3p">
                                            <input type="text" class="form-control input-large"
                                                   ng-model="accountFormData.firstName"
                                                   placeholder="First Name" required>
                                        </div>
                                        <div class="col-md-6 mb3p">
                                            <input type="text"
                                                   class="form-control input-large"
                                                   name="last_name" ng-model="accountFormData.lastName"
                                                   placeholder="Last Name"
                                                   required>
                                        </div>
                                    </div>

                                    <div class="row extra-bottom-padding">
                                        <label class="col-md-3 control-label">Username:</label>

                                        <div class="col-md-6">
                                            <input type="text" class="form-control input-large"
                                                   ng-model="accountFormData.username" placeholder="Username"
                                                   required/>
                                        </div>
                                    </div>

                                    <div class="row extra-bottom-padding">
                                        <label class="col-md-3 control-label">Password:</label>

                                        <div class="col-sm-6">
                                            <input type="password" class="form-control input-large"
                                                   ng-model="accountFormData.password" placeholder="Password"
                                                   required/>
                                        </div>
                                    </div>

                                    <div class="well" style="margin: 0 auto 5px; text-align:right">

                                        <button type="submit" class="btn btn-primary"
                                                style="width:100px">Sign Up
                                        </button>

                                        <div class="container" style="margin-top:10px;">

                                            <div class="progress progress-striped active"
                                                 ng-show="accountCreateInProgress">
                                                <div class="progress-bar" role="progressbar" aria-valuenow="100"
                                                     aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                                                    Creating account ...
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="center-block">{{accountCreateStatus}}</div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>

                            <div class="row" ng-show="createFailed">
                                <div ng-message="required">{{createErrorMessage}}</div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
        </div>


        <div style="padding-left: 40px;" ng-show="loggedIn">
            <div class="row centered-form">
                <div>
                    <div class="panel panel-default" style="width:500px">
                        <div class="panel-heading">
                            <h4 class="panel-title">Accounts</h4>
                        </div>

                        <div class="panel-body">

                            <div>
                                <div class="row centered-form">
                                    <div>
                                        <div class="panel panel-default" style="width:500px">

                                            <div class="row-fluid"
                                                 style="background-color: #f0f0f0; border-top-left-radius: 10px; border-top-right-radius: 10px;">
                                                <label class="col-sm-3 control-label">Username</label>

                                                <label class="col-sm-6">Full Name</label>
                                            </div>

                                            <div class="panel-heading">

                                            </div>

                                            <div class="panel-body">
                                                <div class="row" style="margin-bottom:10px;"
                                                     ng-repeat="account in accounts">
                                                    <div class="col-sm-3 control-label">{{account.username}}</div>

                                                    <div class="col-sm-6">{{account.first_name}} {{account.last_name}}
                                                    </div>

                                                    <div class="col-sm-3">
                                                        <button type="submit" ng-click="requestData(account.username)"
                                                                class="btn btn-primary"
                                                                style="width:100px">Get SSN
                                                        </button>
                                                    </div>

                                                    <div ng-show="gotAttribute(account.username)" class="col-md-10">
                                                        <div>RESULT: {{gotAttribute(account.username)}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="container" style="margin-top:10px;">
                                <div class="progress progress-striped active"
                                     ng-show="queryInProgress">
                                    <div class="progress-bar" role="progressbar"
                                         aria-valuenow="100"
                                         aria-valuemin="0" aria-valuemax="100"
                                         style="width: 100%">
                                        Querying ...
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="center-block">{{queryStatus}}</div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <div class="panel panel-default" style="width:500px">
                <div class="panel-heading">
                    <h4 class="panel-title">Account Balances</h4>
                </div>


                <div class="row-fluid"
                     style="background-color: #f0f0f0; border-top-left-radius: 10px; border-top-right-radius: 10px;">
                    <label class="col-sm-3 control-label">Account</label>

                    <label class="col-sm-6">Token Balance</label>
                </div>

                <div class="panel-heading">

                </div>


                <div class="panel-body">
                    <div class="row" style="margin-bottom:10px;"
                         ng-repeat="account in accountBalances">
                        <div class="col-sm-3 control-label">{{account.account.username}}</div>

                        <div class="col-sm-3 control-label">{{account.tokens}}</div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
</body>

</html>