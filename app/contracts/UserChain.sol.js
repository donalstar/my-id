// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":false,"inputs":[],"name":"getBalance","outputs":[{"name":"balance","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"registrantsPaid","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[],"name":"getValue","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"dl","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":true,"inputs":[],"name":"value","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[],"name":"buyTick","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"location","outputs":[{"name":"","type":"string"}],"type":"function"},{"constant":false,"inputs":[{"name":"new_value","type":"uint256"}],"name":"setValue","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"organizer","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":false,"inputs":[{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"refundTicket","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"loc_address","type":"string"}],"name":"setLocation","outputs":[],"type":"function"},{"constant":false,"inputs":[],"name":"destroy","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"dl_address","type":"address"}],"name":"setDL","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"newquota","type":"uint256"}],"name":"changeQuota","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"balance","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[],"name":"getDL","outputs":[{"name":"dl","type":"address"}],"type":"function"},{"constant":false,"inputs":[{"name":"addr","type":"address"}],"name":"getValu","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[],"name":"getLocation","outputs":[{"name":"","type":"string"}],"type":"function"},{"constant":true,"inputs":[],"name":"quota","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"ssn","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"newssn","type":"uint256"}],"name":"setSSN","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"numRegistrants","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"addr","type":"address"}],"name":"getSSN","outputs":[{"name":"ssn","type":"uint256"}],"type":"function"},{"inputs":[],"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_from","type":"address"},{"indexed":false,"name":"_amount","type":"uint256"}],"name":"Deposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_to","type":"address"},{"indexed":false,"name":"_amount","type":"uint256"}],"name":"Refund","type":"event"}],
    binary: "606060405260008054600160a060020a0319163317815560646003556002819055600455610320600555600a60085561065c8061003c6000396000f3606060405236156101115760e060020a600035046312065fe0811461011357806313381fbf1461011d578063209652551461013557806324a85aac146101405780633fa4f245146101525780634d9958051461015b578063516f279e1461016f57806355241077146101cd57806361203265146101dc578063705099b9146101ee578063827bfbdf1461021357806383197ef0146102bf578063a2a468bb146102e7578063a977c71e1461030d578063b69ef8a81461032e578063c5a87e0014610337578063cc796cc91461033f578063ce2ce3fc1461034e578063cebe09c9146103b8578063d96f4385146103c1578063eba7580c146103ca578063ec3a6f73146103d5578063fffcd07c146103de575b005b6103eb5b60005b90565b6103eb60043560016020526000908152604090205481565b6103eb60085461011a565b6103fd600654600160a060020a031681565b6103eb60085481565b610111600254600354901061048757610002565b6104196007805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156105145780601f106104e957610100808354040283529160200191610514565b61011160043560088190555b50565b6103fd600054600160a060020a031681565b6101116004356024356000805433600160a060020a0390811691161461051c576105e7565b6040805160206004803580820135601f81018490048402850184019095528484526101119491936024939092918401919081908401838280828437509496505050505050508060076000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106105ec57805160ff19168380011785555b506105e79291505b8082111561061c57600081556001016102ab565b61011160005433600160a060020a03908116911614156104e757600054600160a060020a0316ff5b6006805473ffffffffffffffffffffffffffffffffffffffff1916600435179055610111565b61011160043560005433600160a060020a03908116911614610620576101d9565b6103eb60055481565b6103fd610117565b6103eb6004356005545b919050565b60408051602081810183526000825260078054845160026001831615610100026000190190921691909104601f81018490048402820184019095528481526104199490928301828280156106505780601f1061062557610100808354040283529160200191610650565b6103eb60035481565b6103eb60045481565b600480359055610111565b6103eb60025481565b6103eb6004356000610349565b60408051918252519081900360200190f35b60408051600160a060020a039092168252519081900360200190f35b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156104795780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b33600160a060020a0316600081815260016020818152604092839020349081905560028054909301909255825193845283015280517fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c9281900390910190a15b565b820191906000526020600020905b8154815290600101906020018083116104f757829003601f168201915b505050505081565b600160a060020a0383166000908152600160205260409020548214156105e7575030600160a060020a038116318290106105e757604051600160a060020a03841690600090849082818181858883f1505060408051938452602084019190915280517fbb28353e4598c3b9199101a66e0989549b659a59a54d2c27fbb183f1932c8e6d938190039091019150a160006001600050600085600160a060020a03168152602001908152602001600020600050819055506002600081815054809291906001900391905055505b505050565b828001600101855582156102a3579182015b828111156102a35782518260005055916020019190600101906105fe565b5090565b600355565b820191906000526020600020905b81548152906001019060200180831161063357829003601f168201915b5050505050905061011a56",
    unlinked_binary: "606060405260008054600160a060020a0319163317815560646003556002819055600455610320600555600a60085561065c8061003c6000396000f3606060405236156101115760e060020a600035046312065fe0811461011357806313381fbf1461011d578063209652551461013557806324a85aac146101405780633fa4f245146101525780634d9958051461015b578063516f279e1461016f57806355241077146101cd57806361203265146101dc578063705099b9146101ee578063827bfbdf1461021357806383197ef0146102bf578063a2a468bb146102e7578063a977c71e1461030d578063b69ef8a81461032e578063c5a87e0014610337578063cc796cc91461033f578063ce2ce3fc1461034e578063cebe09c9146103b8578063d96f4385146103c1578063eba7580c146103ca578063ec3a6f73146103d5578063fffcd07c146103de575b005b6103eb5b60005b90565b6103eb60043560016020526000908152604090205481565b6103eb60085461011a565b6103fd600654600160a060020a031681565b6103eb60085481565b610111600254600354901061048757610002565b6104196007805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156105145780601f106104e957610100808354040283529160200191610514565b61011160043560088190555b50565b6103fd600054600160a060020a031681565b6101116004356024356000805433600160a060020a0390811691161461051c576105e7565b6040805160206004803580820135601f81018490048402850184019095528484526101119491936024939092918401919081908401838280828437509496505050505050508060076000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106105ec57805160ff19168380011785555b506105e79291505b8082111561061c57600081556001016102ab565b61011160005433600160a060020a03908116911614156104e757600054600160a060020a0316ff5b6006805473ffffffffffffffffffffffffffffffffffffffff1916600435179055610111565b61011160043560005433600160a060020a03908116911614610620576101d9565b6103eb60055481565b6103fd610117565b6103eb6004356005545b919050565b60408051602081810183526000825260078054845160026001831615610100026000190190921691909104601f81018490048402820184019095528481526104199490928301828280156106505780601f1061062557610100808354040283529160200191610650565b6103eb60035481565b6103eb60045481565b600480359055610111565b6103eb60025481565b6103eb6004356000610349565b60408051918252519081900360200190f35b60408051600160a060020a039092168252519081900360200190f35b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156104795780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b33600160a060020a0316600081815260016020818152604092839020349081905560028054909301909255825193845283015280517fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c9281900390910190a15b565b820191906000526020600020905b8154815290600101906020018083116104f757829003601f168201915b505050505081565b600160a060020a0383166000908152600160205260409020548214156105e7575030600160a060020a038116318290106105e757604051600160a060020a03841690600090849082818181858883f1505060408051938452602084019190915280517fbb28353e4598c3b9199101a66e0989549b659a59a54d2c27fbb183f1932c8e6d938190039091019150a160006001600050600085600160a060020a03168152602001908152602001600020600050819055506002600081815054809291906001900391905055505b505050565b828001600101855582156102a3579182015b828111156102a35782518260005055916020019190600101906105fe565b5090565b600355565b820191906000526020600020905b81548152906001019060200180831161063357829003601f168201915b5050505050905061011a56",
    address: "0xfa5203ba94256bbd7f92ff332979dd67c5c284c3",
    generated_with: "2.0.9",
    contract_name: "UserChain"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("UserChain error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("UserChain error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("UserChain error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("UserChain error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.UserChain = Contract;
  }

})();
